@(title: String)(authenticatedUser : Option[model.User] = None)(content: Html)
@import model.User
<!DOCTYPE html>

<html>
    <head>
        <title>@title</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/chosen.min.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <link rel="stylesheet" href="@routes.Assets.at("stylesheets/slidePanel.css")" media="screen">

        <!-- Libraries -->

        <script src="@routes.Assets.at("javascripts/libraries/jquery-1.9.0.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/libraries/popane.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/libraries/jquery.autosize.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/libraries/jquery.color-2.1.2.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/libraries/chosen.jquery.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/libraries/isotope.pkgd.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/libraries/packery-mode.pkgd.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/libraries/packery.pkgd.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/libraries/imagesloaded.pkgd.min.js")" type="text/javascript"></script>

        <!-- Project Portal JS -->
        <script src="@routes.Assets.at("javascripts/ajax-calls.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/edit-callbacks.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/filter-callbacks.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/form-callbacks.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/layout-calls.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/notification-callbacks.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/project-callbacks.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/helpers.js")" type="text/javascript"></script>

        <script type="text/javascript" src="@routes.Application.javascriptRoutes"></script>

        <!-- Google Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-54088497-1', 'auto');
          ga('send', 'pageview');

        </script>

    </head>
    <body>
    	@authenticatedUser match {
    		case None => {

    		}
    		case user : Some[User] => {
    			@common.header(user.get)

          <div id="panel">
            <div id="panel-content">
              <table style="width: 100%; padding: 15px;">
                <tr>
                  <td class="input-label">date:</td>
                  <td><input type="text" id="mDate" class="roundbox-textinput" placeholder="ex. 12/25/2015" /></td>
                </tr>
                <tr>
                  <td class="input-label">hours:</td>
                  <td><input type="text" id="mHours" class="roundbox-textinput" placeholder="ex. 1.5" /></td>
                </tr>
                <tr>
                  <td class="input-label">project:</td>
                  <td>
                    <select name="project" class="chosen" id="office-hour-project-select" style="width: 100%">
                      <option value="" selected="selected">None</option>
                      <option value="1">Project 1</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="input-label">comments:</td>
                  <td><textarea id="mComments" rows="5" cols="30" style="resize: none"></textarea></td>
                </tr>
                <tr>
                  <td></td>
                  <td><input type="checkbox" name="mPostUpdate"> post this as a project update</td>
                </tr>
                <tr>
                  <td></td>
                  <td><span class="blue-button" id="submitHours">submit hours</span></td>
                </tr>
              </table>
            </div>
            <div id="panel-tab">
              <div id="myTab">
                <strong style="padding-top: 10px;">
                  L<br/>
                  O<br/>
                  G<br/>
                  <br/>
                  T<br/>
                  I<br/>
                  M<br/>
                  E<br/>
                </strong>
              </div>
            </div>
          </div>
    		}
    	}
        @content
    </body>
    <script type="text/javascript">
      var taskPanelOpen = false;

      $(function () {
          $("#panel-tab").click(function (event) {
              event.stopPropagation();
              showIfNotVisible("#panel-content");
          });
      });

      function showIfNotVisible(element) {
            if (taskPanelOpen) {
                $(element).animate({ width: '0px' }, 500);
                taskPanelOpen = false;
            } else {
                $(element).animate({ width: '450px' }, 500);
                taskPanelOpen = true;
            }
      }

      $("#submitHours").on("click", function() {
          var reqBody = {
            date: $("#mDate").val(),
            projectId: $("#office-hour-project-select").val(),
            hours: $("#mHours").val(),
            comment: $("#mComments").val(),
            markAsUpdate: $("#mPostUpdate").is(":checked")
          };

          $.post("/officehour/logHour", reqBody, function(data) {
            alert(data);
          });
      });

    </script>
</html>
